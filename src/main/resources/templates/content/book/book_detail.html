<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/public_layout}">
<th:block layout:fragment="content_css">
	<!-- <link rel="stylesheet" href="/css/.css"> -->
</th:block>
<th:block layout:fragment="content">



<div class="row justify-content-center">
	<div class="col-10">
		<h2><label for="" class="col-9 col-form-label"> [[${book.bookTitle}]] </label></h2>
		<div class="row mb=3">
			<div class="col-5">
				<th:block th:each="img : ${book.imgList}"> 
 		  			<th:block th:if="${img.isMainImg == 'Y'}">
 		  				<img width="380px;" th:src="${'/image/book/' + img.attachedFileName}">
 		  			</th:block>
 		  		</th:block>
			</div>
			
	<div class="col-5" style="margin-top: 8%;">
  
  		
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> 작가</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookAuthor}]] </label>
  		</div>
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> 출판사</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookPublisher}]] </label>
  		</div>
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> 출판일</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookPublicationDate}]] </label>
  		</div>
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> ISBN</label>
  			<label for="" class="col-9 col-form-label"> [[${book.isbn}]] </label>
  		</div>
  		<div class="row mb-5">
  			<label for="" class="col-3 col-form-label"> 책소개</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookIntro}]] </label>
  		</div>

  		<div class="row mb-3">
  			<div class="col d-grid">
  				<input type="button" class="btn custom-btn" id="brBtn" value="대여하기"
      			 th:onclick="borrow([[${#authentication.name}]], [[${book.bookCode}]]);">
      	
  			</div>
  			<div class="col d-grid">
  				<input type="button" class="btn custom-btn" id="reBtn" value="예약하기"
      			 th:onclick="reserve([[${#authentication.name}]], [[${book.bookCode}]]);">
  			<form id="bookBr">
				<input type="hidden" name="bookCode" th:value="${book.bookCode}">
				<input type="hidden" name="bookStockCnt" th:value="${book.bookStockCnt}">
				<input type="hidden" name="borrowCnt" th:value="${book.borrowCnt}">
				<input type="hidden" name="reserveCnt" th:value="${book.reserveCnt}">
				<input type="hidden" name="returnDate" th:value="${book.returnDate}">
  			</form>
  			</div>
		</div>
 	</div>		
			
		</div>
	</div>
</div>


</th:block>

<!--연결해야할 외부 js 파일 -->
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/book/book_detail.js"></script> 
	 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</th:block> 


</html>