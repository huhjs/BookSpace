<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/public_layout}">
<th:block layout:fragment="content_css">
	<link rel="stylesheet" href="/css/content/book/book_detail.css">
</th:block>



<th:block layout:fragment="content">
	<div class="search">
		<div class="row p-5">
			<h2>[[${book.bookTitle}]]</h2>
		</div>
	</div>

<div class="row justify-content-center">
	<div class="col-11">
		<div class="row mb=3">
				<div class="col-4">
		
 		  		
 		  		


					<div id="carouselExampleIndicators" class="carousel slide">
						<div class="carousel-indicators">
							<button type="button" data-bs-target="#carouselExampleIndicators"
								data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
							<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
						</div>
						<div class="carousel-inner">
							<div class="carousel-item active">
						<th:block th:each="img : ${book.imgList}"> <!-- img: 자료형shopItemVO  --> <!-- 메인 이미지 -->
		 		  			<th:block th:if="${img.isMainImg == 'Y'}">
		 		  				<img width="435px;" height="640px;" th:src="${'/image/book/' + img.attachedFileName}">
		 		  			</th:block>
		 		  		</th:block>
							</div>
							<div class="carousel-item">
								<th:block th:each="img : ${book.imgList}"> <!-- img: 자료형shopItemVO  --> <!-- 메인 이미지 -->
				 		  			<th:block th:if="${img.isMainImg == 'N'}">
				 		  				<img width="435px;" height="640px;" th:src="${'/image/book/' + img.attachedFileName}">
				 		  			</th:block>
				 		  		</th:block>
							</div>
						</div>
						<button class="carousel-control-prev" type="button"
							data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button"
							data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>


				</div>
			
			
			
	<div class="col-5 offset-1" style="margin-top: 8%;">
  
  		
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> 작가</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookAuthor}]] </label>
  		</div>
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> 출판사</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookPublisher}]] </label>
  		</div>
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> 출판일</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookPublicationDate}]] </label>
  		</div>
  		<div class="row mb-3">
  			<label for="" class="col-3 col-form-label"> ISBN</label>
  			<label for="" class="col-9 col-form-label"> [[${book.isbn}]] </label>
  		</div>
  		<div class="row mb-5">
  			<label for="" class="col-3 col-form-label"> 책소개</label>
  			<label for="" class="col-9 col-form-label"> [[${book.bookIntro}]] </label>
  		</div>

  		<div class="row mb-3">
  			<div class="col d-grid">
  				<input type="button" class="btn custom-btn2" id="reBtn" value="예약하기"
      			 th:onclick="reserve([[${#authentication.name}]], [[${book.bookCode}]]);">
  			<form id="bookBr">
				<input type="hidden" name="bookCode" th:value="${book.bookCode}">
				<input type="hidden" name="bookStockCnt" th:value="${book.bookStockCnt}">
				<input type="hidden" name="borrowCnt" th:value="${book.borrowCnt}">
				<input type="hidden" name="reserveCnt" th:value="${book.reserveCnt}">
				<input type="hidden" name="returnDate" th:value="${book.returnDate}">
  			</form>
  			</div>
  			<div class="col d-grid">
  				<input type="button" class="btn custom-btn" id="brBtn" value="대여하기"
      			 th:onclick="borrow([[${#authentication.name}]], [[${book.bookCode}]]);">
      	
  			</div>
		</div>
 	</div>		
			
		</div>
	</div>
</div>


</th:block>

<!--연결해야할 외부 js 파일 -->
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/book/book_detail.js"></script> 
	 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	 <script src="js/jquery.min.js"></script>
</th:block> 


</html>