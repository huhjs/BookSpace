<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/public_layout}">

<!--연결해야 할 외부 css파일  -->
<th:block layout:fragment="content_css">
	<link rel="stylesheet" href="/css/content/info/notice.css">
</th:block>

<th:block layout:fragment="content">
<div style="font-weight: bold; font-size: x-large; margin-top: 4rem; margin-left: 3rem;" >공지 사항</div> 
<div class="public-title">공지 사항</div>
    <div th:if="${noticeList != null}">
   			<table  class="table table-hover text-center noticeDiv" style="margin-top: 6rem;">
   			<colgroup>
   				<col width="10%">
   				<col width="*">
   				<col width="15%">
   				<col width="20%">
   			</colgroup>
   		<thead style="font-size: large; background-color: #e7f0ff; font-weight: bold;">
   			<tr>
   				<td>No</td>
   				<td>제목</td>
   				<td>작성자</td>
   				<td>작성일</td>
   			</tr>
   		</thead>
   		<tbody>
   		<th:block th:if="${#lists.size(noticeList) == 0}">
   			<tr>
   				<td colspan="5"> 게시글이 없습니다</td>
   			</tr>
   		</th:block>
   		<th:block th:if="${#lists.size(noticeList) != 0}">
   		<tr th:each=" n, state : ${noticeList} ">
   		<!-- <td th:text="${#lists.size(qna) - detailState.index + 1}"></td> -->
		<td>[[${state.count}]]</td> 
   			<td> <a th:href="@{/info/noticeDetail(noticeNo=${n.noticeNo})}"><span th:text="${n.noticeTitle}"></span></a> </td>
   			<td>[[${n.memId}]]</td>
   			<td>[[${n.noticeCreateDate}]]</td>
   		</tr>
   		</th:block>
   		</tbody>
   	</table>
   	
   			<!-- 관리자 권한을 가진 사용자만 보이는 버튼 -->
	<div th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}" style="margin-top: 1rem;">
			<input class="nBtn" type="button" value="공지 작성" th:onclick="|location.href='@{/info/noticeForm}'|">
		</div>
   	
   </div>
</th:block>

<!--연결해야 할 외부 js 파일  -->
<th:block layout:fragment="content_js">
	<!--<script type="text/javascript" src=""></script> -->
</th:block>

</html>