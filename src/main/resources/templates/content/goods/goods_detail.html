<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/public_layout}">

<!--연결해야 할 외부 css파일  -->
<th:block layout:fragment="content_css">
	<link rel="stylesheet" href="/css/content/goods/goods.css">
</th:block>

<th:block layout:fragment="content">
	<div class="row justify-content-center goodsDetail">
		<div class="col-6">
			<div class="row mb-3">
				<div class="col-5">
					<th:block th:each="img : ${goods.goodsImgList}">
						<th:bolck th:if="${img.isMain == 'Y'}">
							<img width="100%;" height="280px;" th:src="${'/image/goods/' + img.attachedFileName}">
						</th:bolck>
					</th:block>
				</div>
				<div class="col-7">
					<div class="row mb-3">
						<label for="" class="col-3 col-form-label">상품명</label>
						<label for="" class="col-9 col-form-label">[[${goods.goodsName}]]</label>
					</div>
					<div class="row mb-3">
						<label for="" class="col-3 col-form-label">가 격</label>
						<label for="" class="col-9 col-form-label">[[${#numbers.formatCurrency(goods.goodsPrice)}]]</label>
					</div>
					<div class="row mb-3">
						<label for="" class="col-3 col-form-label">수 량</label>
						<div class="col-9">
							<form id="buyForm">
								<input type="hidden" name="goodsCode" th:value="${goods.goodsCode}">
								<input type="hidden" name="goodsPrice" th:value="${goods.goodsPrice}">
								<input id="goodsCnt" name="cartRegCnt" type="number" class="form-control" min="1" value="1">
							</form>
						</div>
					</div>
					<div class="row mb-3">
						<label for="" class="col-3 col-form-label">총 가격</label>
						<label for="" class="col-9 col-form-label">[[${#numbers.formatCurrency(goods.goodsPrice)}]]</label>
					</div>
					<div class="row mb-3">
						<div class="col d-grid">
							<input type="button" class="btn btn-primary" value="장 바 구 니" th:onclick="regCart([[${#authentication.name}]], [[${goods.goodsCode}]],[[${cartRegCnt}]]);">
						</div>
						<div class="col d-grid">
							<input type="button" class="btn btn-primary" value="바 로 구 매" th:onclick="regCart([[${#authentication.name}]], [[${goods.goodsCode}]],[[${cartRegCnt}]]);">
						</div>
					</div>
				</div>
			</div>
			<div class="row mb-3">
				<div class="col">
				[[${goods.goodsIntro}]]
				</div>
			</div>
			<div class="row mb-3">
				<div class="col">
					<th:block th:each="img : ${goods.goodsImgList}">
						<th:bolck th:if="${img.isMain != 'Y'}">
							<img width="100%;" th:src="${'/image/goods/' + img.attachedFileName}">
						</th:bolck>
					</th:block>
				</div>
			</div>
		</div>
	</div>
</th:block>

<!--연결해야 할 외부 js 파일  -->
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/cart/cart.js"></script>
</th:block>

</html>