<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/member_layout}">
<th:block layout:fragment="content_css">
	<link rel="stylesheet" href="/css/content/my/my_book_club.css">
</th:block>
<th:block layout:fragment="content">
	<div class="my-book-club-div">
		<th:block th:if="${#lists.size(myClubDetail) == 0}">
			<div class="noClub-div">
				<table class="table text-center">
					<thead>
						<tr>
							<td colspan="5"></td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="5">가입한 북클럽이 없습니다.</td>
						</tr>
					</tbody>
				</table>
				<div class="club-list-btn">
					<input type="button" class="btn custom-btn" value="북클럽 목록" th:onclick="|location.href='@{/club/club(mainMenuCode=MAIN_MENU_004, subMenuCode=SUB_MENU_011)}';|">
				</div>
			</div>
		</th:block>
		<th:block th:if="${#lists.size(myClubDetail) != 0}">
		    <div class="my-club-list">나의 북클럽</div>
		    <table class="table text-center">
		        <thead>
		            <tr>
		                <td>클럽명</td>
		                <td>가입날짜</td>
		                <td></td>
		            </tr>
		        </thead>
		        <tbody>
		            <th:block th:if="${hasApprovedClubs}">
		                <th:block th:each="club : ${myClubDetail}">
		                    <tr th:if="${club.clubMemStatus == 2}">
		                        <td>[[${club.bookClubVO.clubName}]]</td>
		                        <td>[[${club.clubRegDate}]]</td>
		                        <td>
		                            <input type="button" class="btn custom-btn" value="이동" th:onclick="|location.href='@{/club/clubDetail(clubCode=${club.clubCode}, mainMenuCode=MAIN_MENU_004, subMenuCode=SUB_MENU_011)}';|">
		                            <input type="button" class="btn custom-btn-del" value="탈퇴" th:onclick="deleteBtn([[${club.acceptCode}]], [[${club.clubCode}]], [[${club.clubMemStatus}]]);">
		                        </td>
		                    </tr>
		                </th:block>
		            </th:block>
		            <tr th:unless="${hasApprovedClubs}">
		                <td colspan="3">승인된 클럽이 없습니다.</td>
		            </tr>
		        </tbody>
		    </table>
		    <div class="my-apply-list">북클럽 신청</div>
		    <table class="table text-center">
		        <thead>
		            <tr>
		                <td>클럽명</td>
		                <td>상태</td>
		                <td>신청날짜</td>
		                <td>취소</td>
		            </tr>
		        </thead>
		        <tbody>
		        	<th:block th:if="${hasApproveWaitClubs}">
		            <th:block th:each="club : ${myClubDetail}">
		                <tr th:if="${club.clubMemStatus == 1}">
		                    <td>[[${club.bookClubVO.clubName}]]</td>
		                    <td>
							    <span th:if="${club.clubMemStatus == 1}">승인대기</span>
							    <span th:if="${club.clubMemStatus == 3}">거절</span>
							</td>
		                    <td>[[${club.clubRegDate}]]</td>
		                    <td>
		                        <input type="button" class="btn custom-btn-del" value="취소" th:onclick="deleteBtn([[${club.acceptCode}]], [[${club.clubCode}]], [[${club.clubMemStatus}]]);">
		                    </td>
		                </tr>
		            </th:block>
		            </th:block>
		            <tr th:unless="${hasApproveWaitClubs}">
		                <td colspan="4">신청한 클럽이 없습니다.</td>
		            </tr>
		        </tbody>
		    </table>
		</th:block>
	</div>
</th:block>
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/my/my_book_club.js"></script>
</th:block>
</html>